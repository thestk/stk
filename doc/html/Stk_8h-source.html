<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"> &nbsp; <img src="mcgill.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.3.6 -->
<h1>Stk.h</h1><div class="fragment"><pre>00001 <span class="comment">/***************************************************/</span>
00013 <span class="comment">/***************************************************/</span>
00014 
00015 <span class="preprocessor">#if !defined(__STK_H)</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define __STK_H</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#include &lt;string&gt;</span>
00019 
00020 <span class="comment">// Most data in STK is passed and calculated with the</span>
00021 <span class="comment">// following user-definable floating-point type.  You</span>
00022 <span class="comment">// can change this to "float" if you prefer or perhaps</span>
00023 <span class="comment">// a "long double" in the future.</span>
00024 <span class="keyword">typedef</span> <span class="keywordtype">double</span> MY_FLOAT;
00025 
00026 <span class="comment">// The "MY_FLOAT" type will be deprecated in STK</span>
00027 <span class="comment">// versions higher than 4.1.2 and replaced with the variable</span>
00028 <span class="comment">// "StkFloat".</span>
00029 <span class="comment">//typedef double StkFloat;</span>
00030 <span class="comment">//#if defined(__WINDOWS_DS__) || defined(__WINDOWS_ASIO__)</span>
00031 <span class="comment">//  #pragma deprecated(MY_FLOAT)</span>
00032 <span class="comment">//#else</span>
00033 <span class="comment">//  typedef StkFloat MY_FLOAT __attribute__ ((deprecated));</span>
00034 <span class="comment">//#endif</span>
00035 
00037 
<a name="l00042"></a><a class="code" href="classStkError.html">00042</a> <span class="keyword">class </span><a class="code" href="classStkError.html">StkError</a>
00043 {
00044 <span class="keyword">public</span>:
00045   <span class="keyword">enum</span> TYPE { 
00046     WARNING,
00047     DEBUG_WARNING,
00048     FUNCTION_ARGUMENT,
00049     FILE_NOT_FOUND,
00050     FILE_UNKNOWN_FORMAT,
00051     FILE_ERROR,
00052     PROCESS_THREAD,
00053     PROCESS_SOCKET,
00054     PROCESS_SOCKET_IPADDR,
00055     AUDIO_SYSTEM,
00056     MIDI_SYSTEM,
00057     UNSPECIFIED
00058   };
00059 
00060 <span class="keyword">protected</span>:
00061   <span class="keywordtype">char</span> message[256];
00062   TYPE type;
00063 
00064 <span class="keyword">public</span>:
00066   <a class="code" href="classStkError.html#a0">StkError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *p, TYPE tipe = StkError::UNSPECIFIED);
00067 
00069   <span class="keyword">virtual</span> <a class="code" href="classStkError.html#a1">~StkError</a>(<span class="keywordtype">void</span>);
00070 
00072   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classStkError.html#a2">printMessage</a>(<span class="keywordtype">void</span>);
00073 
<a name="l00075"></a><a class="code" href="classStkError.html#a3">00075</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> TYPE&amp; <a class="code" href="classStkError.html#a3">getType</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> type; }
00076 
<a name="l00078"></a><a class="code" href="classStkError.html#a4">00078</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classStkError.html#a4">getMessage</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> message; }
00079 };
00080 
00081 
<a name="l00082"></a><a class="code" href="classStk.html">00082</a> <span class="keyword">class </span><a class="code" href="classStk.html">Stk</a>
00083 {
00084 <span class="keyword">public</span>:
00085 
00086   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> STK_FORMAT;
<a name="l00087"></a><a class="code" href="classStk.html#s0">00087</a>   <span class="keyword">static</span> <span class="keyword">const</span> STK_FORMAT <a class="code" href="classStk.html#s0">STK_SINT8</a>;   
<a name="l00088"></a><a class="code" href="classStk.html#s1">00088</a>   <span class="keyword">static</span> <span class="keyword">const</span> STK_FORMAT <a class="code" href="classStk.html#s1">STK_SINT16</a>;  
<a name="l00089"></a><a class="code" href="classStk.html#s2">00089</a>   <span class="keyword">static</span> <span class="keyword">const</span> STK_FORMAT <a class="code" href="classStk.html#s2">STK_SINT32</a>;  
<a name="l00090"></a><a class="code" href="classStk.html#s3">00090</a>   <span class="keyword">static</span> <span class="keyword">const</span> STK_FORMAT <a class="code" href="classStk.html#s3">MY_FLOAT32</a>; 
<a name="l00091"></a><a class="code" href="classStk.html#s4">00091</a>   <span class="keyword">static</span> <span class="keyword">const</span> STK_FORMAT <a class="code" href="classStk.html#s4">MY_FLOAT64</a>; 
00093 
00094   <span class="keyword">static</span> MY_FLOAT <a class="code" href="classStk.html#e0">sampleRate</a>(<span class="keywordtype">void</span>);
00095 
00097 
00105   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e1">setSampleRate</a>(MY_FLOAT newRate);
00106 
00108   <span class="keyword">static</span> std::string <a class="code" href="classStk.html#e2">rawwavePath</a>(<span class="keywordtype">void</span>);
00109 
00111   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e3">setRawwavePath</a>(std::string newPath);
00112 
00114   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e4">swap16</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00115 
00117   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e5">swap32</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00118 
00120   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e6">swap64</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr);
00121 
00123   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#e7">sleep</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> milliseconds);
00124 
00125 <span class="keyword">private</span>:
00126   <span class="keyword">static</span> MY_FLOAT srate;
00127   <span class="keyword">static</span> std::string rawwavepath;
00128 
00129 <span class="keyword">protected</span>:
00130 
00132   <a class="code" href="classStk.html#b0">Stk</a>(<span class="keywordtype">void</span>);
00133 
00135   <span class="keyword">virtual</span> <a class="code" href="classStk.html#b1">~Stk</a>(<span class="keywordtype">void</span>);
00136 
00138   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classStk.html#f0">handleError</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *message, StkError::TYPE type );
00139 
00140 };
00141 
00142 <span class="comment">// Here are a few other useful typedefs.</span>
00143 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">short</span> SINT16;
00144 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">int</span> SINT32;
00145 <span class="keyword">typedef</span> <span class="keywordtype">float</span> FLOAT32;
00146 <span class="keyword">typedef</span> <span class="keywordtype">double</span> FLOAT64;
00147 
00148 <span class="comment">// Boolean values</span>
00149 <span class="preprocessor">#define FALSE 0</span>
00150 <span class="preprocessor"></span><span class="preprocessor">#define TRUE 1</span>
00151 <span class="preprocessor"></span>
00152 <span class="comment">// The default sampling rate.</span>
00153 <span class="preprocessor">#define SRATE (MY_FLOAT) 44100.0</span>
00154 <span class="preprocessor"></span>
00155 <span class="comment">// The default real-time audio input and output buffer size.  If</span>
00156 <span class="comment">// clicks are occuring in the input and/or output sound stream, a</span>
00157 <span class="comment">// larger buffer size may help.  Larger buffer sizes, however, produce</span>
00158 <span class="comment">// more latency.</span>
00159 <span class="preprocessor">#define RT_BUFFER_SIZE 512</span>
00160 <span class="preprocessor"></span>
00161 <span class="comment">// The default rawwave path value is set with the preprocessor</span>
00162 <span class="comment">// definition RAWWAVE_PATH.  This can be specified as an argument to</span>
00163 <span class="comment">// the configure script, in an integrated development environment, or</span>
00164 <span class="comment">// below.  The global STK rawwave path variable can be dynamically set</span>
00165 <span class="comment">// with the Stk::setRawwavePath() function.  This value is</span>
00166 <span class="comment">// concatenated to the beginning of all references to rawwave files in</span>
00167 <span class="comment">// the various STK core classes (ex. Clarinet.cpp).  If you wish to</span>
00168 <span class="comment">// move the rawwaves directory to a different location in your file</span>
00169 <span class="comment">// system, you will need to set this path definition appropriately.</span>
00170 <span class="preprocessor">#if !defined(RAWWAVE_PATH)</span>
00171 <span class="preprocessor"></span><span class="preprocessor">  #define RAWWAVE_PATH "../../rawwaves/"</span>
00172 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00173 <span class="preprocessor"></span>
00174 <span class="preprocessor">#define PI (MY_FLOAT) 3.14159265359</span>
00175 <span class="preprocessor"></span><span class="preprocessor">#define TWO_PI (MY_FLOAT) (MY_FLOAT) (2 * PI)</span>
00176 <span class="preprocessor"></span>
00177 <span class="preprocessor">#define ONE_OVER_128 (MY_FLOAT) 0.0078125</span>
00178 <span class="preprocessor"></span>
00179 <span class="preprocessor">#if defined(__WINDOWS_DS__) || defined(__WINDOWS_ASIO__)</span>
00180 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_WINDOWS__</span>
00181 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00182 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__LINUX_OSS__) || defined(__LINUX_ALSA__) || defined(__LINUX_JACK__)</span>
00183 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_LINUX__</span>
00184 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00185 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__IRIX_AL__)</span>
00186 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_IRIX__</span>
00187 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00188 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__MACOSX_CORE__)</span>
00189 <span class="preprocessor"></span><span class="preprocessor">  #define __OS_MACOSX__</span>
00190 <span class="preprocessor"></span><span class="preprocessor">  #define __STK_REALTIME__</span>
00191 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00192 <span class="preprocessor"></span>
00193 <span class="comment">//#define _STK_DEBUG_</span>
00194 
00195 <span class="preprocessor">#endif</span>
</pre></div><HR>

<table>
  <tr><td><A HREF="http://www-ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2004 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
